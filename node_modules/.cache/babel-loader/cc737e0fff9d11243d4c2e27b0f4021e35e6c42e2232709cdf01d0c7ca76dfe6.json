{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\customer\\\\OneDrive\\\\React Ecommerce\\\\src\\\\components\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useProducts, useProductsByCategory, useCategories } from '../hooks/useProducts';\nimport { addToCart } from '../store/cartSlice';\nimport ProductCard from '../components/ProductCard';\nimport CategoryFilter from '../components/CategoryFilter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const dispatch = useDispatch();\n\n  // Fetch data using React Query hooks\n  const {\n    data: allProducts,\n    isLoading: productsLoading,\n    error: productsError\n  } = useProducts();\n  const {\n    data: categoryProducts,\n    isLoading: categoryLoading\n  } = useProductsByCategory(selectedCategory);\n  const {\n    data: categories,\n    isLoading: categoriesLoading\n  } = useCategories();\n\n  // Determine which products to display\n  const productsToDisplay = selectedCategory === 'all' ? allProducts : categoryProducts;\n  const isLoading = selectedCategory === 'all' ? productsLoading : categoryLoading;\n  const handleAddToCart = product => {\n    dispatch(addToCart(product));\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n  };\n  if (productsError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [\"Error loading products: \", productsError.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Product Catalog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CategoryFilter, {\n      categories: categories,\n      selectedCategory: selectedCategory,\n      onCategoryChange: handleCategoryChange,\n      isLoading: categoriesLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-grid\",\n      children: productsToDisplay === null || productsToDisplay === void 0 ? void 0 : productsToDisplay.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        onAddToCart: handleAddToCart\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), (productsToDisplay === null || productsToDisplay === void 0 ? void 0 : productsToDisplay.length) === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"No products found for this category.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"Z5zcI0mJEedePsSaqPmu4stqNH4=\", false, function () {\n  return [useDispatch, useProducts, useProductsByCategory, useCategories];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useDispatch","useProducts","useProductsByCategory","useCategories","addToCart","ProductCard","CategoryFilter","jsxDEV","_jsxDEV","Home","_s","selectedCategory","setSelectedCategory","dispatch","data","allProducts","isLoading","productsLoading","error","productsError","categoryProducts","categoryLoading","categories","categoriesLoading","productsToDisplay","handleAddToCart","product","handleCategoryChange","category","className","children","message","fileName","_jsxFileName","lineNumber","columnNumber","onCategoryChange","map","onAddToCart","id","length","_c","$RefreshReg$"],"sources":["C:/Users/customer/OneDrive/React Ecommerce/src/components/Home.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useProducts, useProductsByCategory, useCategories } from '../hooks/useProducts';\r\nimport { addToCart } from '../store/cartSlice';\r\nimport ProductCard from '../components/ProductCard';\r\nimport CategoryFilter from '../components/CategoryFilter';\r\n\r\nconst Home = () => {\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const dispatch = useDispatch();\r\n\r\n  // Fetch data using React Query hooks\r\n  const { data: allProducts, isLoading: productsLoading, error: productsError } = useProducts();\r\n  const { data: categoryProducts, isLoading: categoryLoading } = useProductsByCategory(selectedCategory);\r\n  const { data: categories, isLoading: categoriesLoading } = useCategories();\r\n\r\n  // Determine which products to display\r\n  const productsToDisplay = selectedCategory === 'all' ? allProducts : categoryProducts;\r\n  const isLoading = selectedCategory === 'all' ? productsLoading : categoryLoading;\r\n\r\n  const handleAddToCart = (product) => {\r\n    dispatch(addToCart(product));\r\n  };\r\n\r\n  const handleCategoryChange = (category) => {\r\n    setSelectedCategory(category);\r\n  };\r\n\r\n  if (productsError) {\r\n    return <div className=\"error\">Error loading products: {productsError.message}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Product Catalog</h1>\r\n      \r\n      <CategoryFilter\r\n        categories={categories}\r\n        selectedCategory={selectedCategory}\r\n        onCategoryChange={handleCategoryChange}\r\n        isLoading={categoriesLoading}\r\n      />\r\n\r\n      {isLoading ? (\r\n        <div className=\"loading\">Loading products...</div>\r\n      ) : (\r\n        <div className=\"products-grid\">\r\n          {productsToDisplay?.map((product) => (\r\n            <ProductCard\r\n              key={product.id}\r\n              product={product}\r\n              onAddToCart={handleAddToCart}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {productsToDisplay?.length === 0 && !isLoading && (\r\n        <div className=\"error\">No products found for this category.</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}